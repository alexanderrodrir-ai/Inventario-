<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Monoton&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #cfe8ff;
      color: #1a1a1a;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 15px;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 8px;
      border: none;
    }
    button {
      background: #6a5acd;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.2s;
    }
    button:hover {
      background: #7b6df2;
    }
    .informe {
      margin-top: 20px;
      background: #f0f6ff;
      padding: 15px;
      border-radius: 10px;
      display: none;
    }
  #pantalonSection { display:none; margin-top:12px; }
  </style>
</head>
<body>
  <div class="container">
    <h1 style="font-family: 'Poppins', sans-serif; font-size: 42px; letter-spacing: 2px;">ðŸ“¦ Inventariando Ando</h1>

    <label>Producto</label>
    <input type="text" id="producto" placeholder="Nombre del producto" />

    <label>Cantidad</label>
    <input type="number" id="cantidad" placeholder="Cantidad" />

    <label>Talla</label>
    <select id="talla">
      <option value="S">S</option>
      <option value="M">M</option>
      <option value="L">L</option>
      <option value="XL">XL</option>
    </select>

    <button onclick="agregarProducto()">Agregar al Inventario</button>
    <button onclick="generarInforme()" style="background:#4caf50; margin-top:10px;">Generar Informe</button>

    <div id="informe" class="informe"></div>
  </div>

  <script>
    let inventario = [];

    function agregarProducto() {
      const producto = document.getElementById("producto").value.trim().toLowerCase();
      const cantidad = parseInt(document.getElementById("cantidad").value);
      const talla = document.getElementById("talla").value;
      const pantalonActivo = document.getElementById("pantalonSection") && document.getElementById("pantalonSection").style.display === 'block';
      const tallaPantalon = pantalonActivo ? document.getElementById("tallaPantalon").value : null;

      if (!producto || !cantidad) {
        alert("Por favor completa todos los campos.");
        return;
      }

      inventario.push({ producto, cantidad, talla, tallaPantalon });
      alert("Producto agregado correctamente âœ”ï¸");

      document.getElementById("producto").value = "";
      document.getElementById("cantidad").value = "";
      document.getElementById("talla").value = "S";
      if (document.getElementById("tallaPantalon")) document.getElementById("tallaPantalon").value = "28";
    }

    function generarInforme() {
      if (inventario.length === 0) {
        alert("No hay productos en el inventario.");
        return;
      }

      let totales = {};

      inventario.forEach(item => {
        const key = item.producto.toLowerCase();
        if (!totales[key]) totales[key] = [];
        totales[key].push(item);
      });

      let html = "<h2>ðŸ“Š Informe de Inventario</h2>";

      for (let prod in totales) {
        html += `<h3 style='margin-top:15px;'>${prod.toUpperCase()}</h3>`;
        totales[prod].forEach(item => {
          html += `<p>ðŸŸ¦ Cantidad: <strong>${item.cantidad}</strong> | Talla: <strong>${item.talla}</strong> ${item.tallaPantalon ? `| Talla pantalÃ³n: <strong>${item.tallaPantalon}</strong>` : ''}</p>`;
        });
      }

      const informeDiv = document.getElementById("informe");
      informeDiv.innerHTML = html;
      informeDiv.style.display = "block";
    }

    function generarInforme() {
      if (inventario.length === 0) {
        alert("No hay productos en el inventario.");
        return;
      }

      let totales = {};

      inventario.forEach(item => {
        if (!totales[item.producto]) {
          totales[item.producto] = 0;
        }
        totales[item.producto] += item.cantidad;
      });

      let html = "<h2>ðŸ“Š Informe de Inventario</h2>";
      for (let prod in totales) {
        html += `<p><strong>${prod}:</strong> ${totales[prod]} unidades</p>`;
      }

      const informeDiv = document.getElementById("informe");
      informeDiv.innerHTML = html;
      informeDiv.style.display = "block";
    }
  </script>
</body>
</html>
